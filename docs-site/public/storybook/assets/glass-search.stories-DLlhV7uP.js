import{r as i,j as e}from"./iframe-BtRd3yP4.js";import{c as d,m as w,f as I,g as C}from"./glass-utils-B_l5-kDT.js";import{S as b}from"./search-WRVFA5uT.js";import{X as T}from"./x-BHbH8HHI.js";import{c as A}from"./createLucideIcon-DipG8eAf.js";import{A as M}from"./arrow-right-BvAKQTDV.js";import{T as O}from"./trending-up-D_Oiy7IC.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],L=A("clock",F),t=({placeholder:k="Search...",suggestions:_=[],recentSearches:m=[],onSearch:E,onSuggestionClick:q,className:z,maxSuggestions:D=8})=>{const[s,h]=i.useState(""),[y,r]=i.useState(!1),[o,n]=i.useState(-1),v=i.useRef(null),S=i.useRef(null),R=_.filter(a=>a.text.toLowerCase().includes(s.toLowerCase())).slice(0,D),l=[...m.filter(a=>a.toLowerCase().includes(s.toLowerCase())).slice(0,3).map(a=>({id:a,text:a,type:"recent"})),...R];i.useEffect(()=>{const a=c=>{S.current&&!S.current.contains(c.target)&&(r(!1),n(-1))},u=c=>{if(y)switch(c.key){case"ArrowDown":c.preventDefault(),n(j=>Math.min(j+1,l.length-1));break;case"ArrowUp":c.preventDefault(),n(j=>Math.max(j-1,-1));break;case"Enter":c.preventDefault(),o>=0&&l[o]?N(l[o]):s.trim()&&G();break;case"Escape":r(!1),n(-1),v.current?.blur();break}};return document.addEventListener("mousedown",a),document.addEventListener("keydown",u),()=>{document.removeEventListener("mousedown",a),document.removeEventListener("keydown",u)}},[y,o,l,s]);const G=()=>{s.trim()&&(E?.(s.trim()),r(!1),n(-1))},N=a=>{h(a.text),q?.(a),r(!1),n(-1)},V=a=>{switch(a){case"recent":return e.jsx(L,{className:"w-4 h-4 text-[var(--text-tertiary)]"});case"trending":return e.jsx(O,{className:"w-4 h-4 text-[var(--text-tertiary)]"});default:return e.jsx(b,{className:"w-4 h-4 text-[var(--text-tertiary)]"})}};return e.jsxs("div",{ref:S,className:d("relative w-full max-w-md",z),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx(b,{className:"w-4 h-4 text-[var(--text-secondary)]"})}),e.jsx("input",{ref:v,type:"text",value:s,onChange:a=>{h(a.target.value),r(!0),n(-1)},onFocus:()=>r(!0),onKeyDown:a=>{a.key==="Enter"&&(a.preventDefault(),G())},placeholder:k,className:d("w-full pl-10 pr-10 py-3 rounded-xl border",C("default"),I,"text-[var(--text-primary)] placeholder:text-[var(--text-secondary)]","border-[var(--glass-border)] focus:border-[var(--glass-border-focus)]",w.gentle)}),s&&e.jsx("button",{onClick:()=>{h(""),r(!1),v.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-lg hover:bg-[var(--glass-bg)] text-[var(--text-secondary)]",children:e.jsx(T,{className:"w-4 h-4"})})]}),y&&(s||m.length>0)&&e.jsxs("div",{className:d("absolute top-full left-0 right-0 mt-2 rounded-xl border z-50",C("elevated"),"border-[var(--glass-border)] max-h-80 overflow-y-auto"),children:[!s&&m.length>0&&e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"px-3 py-2 text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Recent"}),m.slice(0,5).map(a=>e.jsxs("button",{onClick:()=>N({id:a,text:a,type:"recent"}),className:d("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left","hover:bg-[var(--glass-bg)] text-[var(--text-primary)]",w.gentle),children:[e.jsx(L,{className:"w-4 h-4 text-[var(--text-tertiary)]"}),e.jsx("span",{className:"flex-1 truncate",children:a})]},a))]}),l.length>0&&e.jsxs("div",{className:"p-2",children:[s&&e.jsx("div",{className:"px-3 py-2 text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Suggestions"}),l.map((a,u)=>e.jsxs("button",{onClick:()=>N(a),className:d("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left","hover:bg-[var(--glass-bg)] text-[var(--text-primary)]",o===u&&"bg-[var(--glass-bg)]",w.gentle),children:[V(a.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"truncate",children:a.text}),"count"in a&&a.count&&e.jsx("span",{className:"text-xs text-[var(--text-tertiary)] ml-2",children:a.count.toLocaleString()})]}),"category"in a&&typeof a.category=="string"&&e.jsxs("div",{className:"text-xs text-[var(--text-tertiary)] mt-0.5",children:["in ",a.category]})]}),e.jsx(M,{className:"w-3 h-3 text-[var(--text-tertiary)] opacity-0 group-hover:opacity-100 transition-opacity"})]},a.id))]}),s&&l.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(b,{className:"w-8 h-8 text-[var(--text-tertiary)] mx-auto mb-2"}),e.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:"No results found"}),e.jsx("p",{className:"text-[var(--text-tertiary)] text-xs mt-1",children:"Try a different search term"})]})]})]})};try{t.displayName="GlassSearch",t.__docgenInfo={description:"",displayName:"GlassSearch",props:{placeholder:{defaultValue:{value:"Search..."},description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}},suggestions:{defaultValue:{value:"[]"},description:"",name:"suggestions",required:!1,type:{name:"SearchSuggestion[] | undefined"}},recentSearches:{defaultValue:{value:"[]"},description:"",name:"recentSearches",required:!1,type:{name:"string[] | undefined"}},onSearch:{defaultValue:null,description:"",name:"onSearch",required:!1,type:{name:"((query: string) => void) | undefined"}},onSuggestionClick:{defaultValue:null,description:"",name:"onSuggestionClick",required:!1,type:{name:"((suggestion: SearchSuggestion) => void) | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},showTrending:{defaultValue:null,description:"",name:"showTrending",required:!1,type:{name:"boolean | undefined"}},maxSuggestions:{defaultValue:{value:"8"},description:"",name:"maxSuggestions",required:!1,type:{name:"number | undefined"}}}}}catch{}const W={title:"Glass/GlassSearch",component:t,parameters:{layout:"centered"},tags:["autodocs"]},x={args:{children:"GlassSearch Component"}},p={args:{variant:"secondary",children:"Secondary GlassSearch"}},g={render:()=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(t,{size:"sm",children:"Small"}),e.jsx(t,{size:"md",children:"Medium"}),e.jsx(t,{size:"lg",children:"Large"})]})},f={render:()=>e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(t,{children:"Normal"}),e.jsx(t,{disabled:!0,children:"Disabled"})]})})};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  args: {
    children: 'GlassSearch Component'
  }
}`,...x.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    variant: 'secondary',
    children: 'Secondary GlassSearch'
  }
}`,...p.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  render: () => <div className="flex items-center gap-4">
      <GlassSearch size="sm">Small</GlassSearch>
      <GlassSearch size="md">Medium</GlassSearch>
      <GlassSearch size="lg">Large</GlassSearch>
    </div>
}`,...g.parameters?.docs?.source}}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:`{
  render: () => <div className="flex flex-col gap-4">
      <div className="flex items-center gap-4">
        <GlassSearch>Normal</GlassSearch>
        <GlassSearch disabled>Disabled</GlassSearch>
      </div>
    </div>
}`,...f.parameters?.docs?.source}}};const Y=["Primary","Secondary","Sizes","States"];export{x as Primary,p as Secondary,g as Sizes,f as States,Y as __namedExportsOrder,W as default};
