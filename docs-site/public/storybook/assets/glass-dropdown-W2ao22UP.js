import{R as E,r as i,j as a}from"./iframe-BrIAL86F.js";import{c as p,g as j}from"./glass-utils-B_l5-kDT.js";const m=E.forwardRef(({trigger:w,items:h,onSelect:g,className:x,contentClassName:v,align:f="start",sideOffset:c=4,...y},b)=>{const[r,l]=i.useState(!1),[R,k]=i.useState({}),o=i.useRef(null),d=i.useRef(null);i.useEffect(()=>{const e=n=>{r&&d.current&&o.current&&!d.current.contains(n.target)&&!o.current.contains(n.target)&&l(!1)},t=n=>{r&&n.key==="Escape"&&l(!1)};if(r)return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[r]),i.useEffect(()=>{if(r&&o.current&&d.current){const e=o.current.getBoundingClientRect(),t=d.current.getBoundingClientRect();let n=e.bottom+c,s=e.left;switch(f){case"center":s=e.left+(e.width-t.width)/2;break;case"end":s=e.right-t.width;break}const u={width:window.innerWidth,height:window.innerHeight};s<8&&(s=8),s+t.width>u.width-8&&(s=u.width-t.width-8),n+t.height>u.height-8&&(n=e.top-t.height-c),k({position:"fixed",top:`${n}px`,left:`${s}px`,zIndex:9999})}},[r,f,c]);const N=e=>{e.disabled||e.separator||(g?.(e.value),l(!1))};return a.jsxs("div",{ref:b,className:p("relative inline-block",x),...y,children:[a.jsx("div",{ref:o,onClick:()=>l(!r),className:"cursor-pointer",children:w}),r&&a.jsx("div",{ref:d,style:R,className:p(j("elevated"),"py-1 rounded-xl border border-white/20 dark:border-white/10","min-w-[160px] max-w-[300px]","animate-in fade-in-0 zoom-in-95 duration-200",v),children:h.map((e,t)=>e.separator?a.jsx("div",{className:"my-1 border-t border-white/10 dark:border-white/5"},`separator-${t}`):a.jsxs("button",{onClick:()=>N(e),disabled:e.disabled,className:p("w-full px-3 py-2 text-left transition-colors duration-200","hover:bg-white/10 dark:hover:bg-white/5","focus:outline-none focus:bg-white/10 dark:focus:bg-white/5","flex items-center space-x-2","text-gray-900 dark:text-white text-sm",e.disabled&&"opacity-50 cursor-not-allowed"),children:[e.icon&&a.jsx("span",{className:"flex-shrink-0 w-4 h-4",children:e.icon}),a.jsx("span",{className:"truncate",children:e.label})]},e.value))})]})});m.displayName="GlassDropdown";m.__docgenInfo={description:"",methods:[],displayName:"GlassDropdown",props:{trigger:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"DropdownItem"}],raw:"DropdownItem[]"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},contentClassName:{required:!1,tsType:{name:"string"},description:""},align:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}},sideOffset:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"4",computed:!1}}}};export{m as G};
