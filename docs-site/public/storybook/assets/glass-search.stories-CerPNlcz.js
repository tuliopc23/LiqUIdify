import{r as i,j as e}from"./iframe-BrIAL86F.js";import{c as d,m as w,f as A,g as G}from"./glass-utils-B_l5-kDT.js";import{S as b}from"./search-DLyVAH7l.js";import{X as _}from"./x-D5S6uNnZ.js";import{c as M}from"./createLucideIcon-DQ-sB9u0.js";import{A as O}from"./arrow-right-DzGh-FRG.js";import{T as V}from"./trending-up-ClvhJpEY.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],C=M("clock",F),c=({placeholder:L="Search...",suggestions:T=[],recentSearches:m=[],onSearch:q,onSuggestionClick:E,className:z,maxSuggestions:D=8})=>{const[t,h]=i.useState(""),[y,a]=i.useState(!1),[o,r]=i.useState(-1),v=i.useRef(null),S=i.useRef(null),R=T.filter(s=>s.text.toLowerCase().includes(t.toLowerCase())).slice(0,D),n=[...m.filter(s=>s.toLowerCase().includes(t.toLowerCase())).slice(0,3).map(s=>({id:s,text:s,type:"recent"})),...R];i.useEffect(()=>{const s=l=>{S.current&&!S.current.contains(l.target)&&(a(!1),r(-1))},u=l=>{if(y)switch(l.key){case"ArrowDown":l.preventDefault(),r(j=>Math.min(j+1,n.length-1));break;case"ArrowUp":l.preventDefault(),r(j=>Math.max(j-1,-1));break;case"Enter":l.preventDefault(),o>=0&&n[o]?N(n[o]):t.trim()&&k();break;case"Escape":a(!1),r(-1),v.current?.blur();break}};return document.addEventListener("mousedown",s),document.addEventListener("keydown",u),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",u)}},[y,o,n,t]);const k=()=>{t.trim()&&(q?.(t.trim()),a(!1),r(-1))},N=s=>{h(s.text),E?.(s),a(!1),r(-1)},I=s=>{switch(s){case"recent":return e.jsx(C,{className:"w-4 h-4 text-[var(--text-tertiary)]"});case"trending":return e.jsx(V,{className:"w-4 h-4 text-[var(--text-tertiary)]"});default:return e.jsx(b,{className:"w-4 h-4 text-[var(--text-tertiary)]"})}};return e.jsxs("div",{ref:S,className:d("relative w-full max-w-md",z),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx(b,{className:"w-4 h-4 text-[var(--text-secondary)]"})}),e.jsx("input",{ref:v,type:"text",value:t,onChange:s=>{h(s.target.value),a(!0),r(-1)},onFocus:()=>a(!0),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),k())},placeholder:L,className:d("w-full pl-10 pr-10 py-3 rounded-xl border",G("default"),A,"text-[var(--text-primary)] placeholder:text-[var(--text-secondary)]","border-[var(--glass-border)] focus:border-[var(--glass-border-focus)]",w.gentle)}),t&&e.jsx("button",{onClick:()=>{h(""),a(!1),v.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-lg hover:bg-[var(--glass-bg)] text-[var(--text-secondary)]",children:e.jsx(_,{className:"w-4 h-4"})})]}),y&&(t||m.length>0)&&e.jsxs("div",{className:d("absolute top-full left-0 right-0 mt-2 rounded-xl border z-50",G("elevated"),"border-[var(--glass-border)] max-h-80 overflow-y-auto"),children:[!t&&m.length>0&&e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"px-3 py-2 text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Recent"}),m.slice(0,5).map(s=>e.jsxs("button",{onClick:()=>N({id:s,text:s,type:"recent"}),className:d("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left","hover:bg-[var(--glass-bg)] text-[var(--text-primary)]",w.gentle),children:[e.jsx(C,{className:"w-4 h-4 text-[var(--text-tertiary)]"}),e.jsx("span",{className:"flex-1 truncate",children:s})]},s))]}),n.length>0&&e.jsxs("div",{className:"p-2",children:[t&&e.jsx("div",{className:"px-3 py-2 text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Suggestions"}),n.map((s,u)=>e.jsxs("button",{onClick:()=>N(s),className:d("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left","hover:bg-[var(--glass-bg)] text-[var(--text-primary)]",o===u&&"bg-[var(--glass-bg)]",w.gentle),children:[I(s.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"truncate",children:s.text}),"count"in s&&s.count&&e.jsx("span",{className:"text-xs text-[var(--text-tertiary)] ml-2",children:s.count.toLocaleString()})]}),"category"in s&&typeof s.category=="string"&&e.jsxs("div",{className:"text-xs text-[var(--text-tertiary)] mt-0.5",children:["in ",s.category]})]}),e.jsx(O,{className:"w-3 h-3 text-[var(--text-tertiary)] opacity-0 group-hover:opacity-100 transition-opacity"})]},s.id))]}),t&&n.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(b,{className:"w-8 h-8 text-[var(--text-tertiary)] mx-auto mb-2"}),e.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:"No results found"}),e.jsx("p",{className:"text-[var(--text-tertiary)] text-xs mt-1",children:"Try a different search term"})]})]})]})};c.__docgenInfo={description:"",methods:[],displayName:"GlassSearch",props:{placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Search..."',computed:!1}},suggestions:{required:!1,tsType:{name:"Array",elements:[{name:"SearchSuggestion"}],raw:"SearchSuggestion[]"},description:"",defaultValue:{value:"[]",computed:!1}},recentSearches:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"(query: string) => void",signature:{arguments:[{type:{name:"string"},name:"query"}],return:{name:"void"}}},description:""},onSuggestionClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(suggestion: SearchSuggestion) => void",signature:{arguments:[{type:{name:"SearchSuggestion"},name:"suggestion"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},showTrending:{required:!1,tsType:{name:"boolean"},description:""},maxSuggestions:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"8",computed:!1}}}};const W={title:"Glass/GlassSearch",component:c,parameters:{layout:"centered"},tags:["autodocs"]},x={args:{children:"GlassSearch Component"}},p={args:{variant:"secondary",children:"Secondary GlassSearch"}},g={render:()=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{size:"sm",children:"Small"}),e.jsx(c,{size:"md",children:"Medium"}),e.jsx(c,{size:"lg",children:"Large"})]})},f={render:()=>e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{children:"Normal"}),e.jsx(c,{disabled:!0,children:"Disabled"})]})})};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  args: {
    children: 'GlassSearch Component'
  }
}`,...x.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    variant: 'secondary',
    children: 'Secondary GlassSearch'
  }
}`,...p.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  render: () => <div className="flex items-center gap-4">
      <GlassSearch size="sm">Small</GlassSearch>
      <GlassSearch size="md">Medium</GlassSearch>
      <GlassSearch size="lg">Large</GlassSearch>
    </div>
}`,...g.parameters?.docs?.source}}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:`{
  render: () => <div className="flex flex-col gap-4">
      <div className="flex items-center gap-4">
        <GlassSearch>Normal</GlassSearch>
        <GlassSearch disabled>Disabled</GlassSearch>
      </div>
    </div>
}`,...f.parameters?.docs?.source}}};const Y=["Primary","Secondary","Sizes","States"];export{x as Primary,p as Secondary,g as Sizes,f as States,Y as __namedExportsOrder,W as default};
