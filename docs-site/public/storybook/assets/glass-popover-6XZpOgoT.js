import{r as o,j as c}from"./iframe-BtRd3yP4.js";import{r as O}from"./index-DwirsH3u.js";import{c as k,g as _}from"./glass-utils-B_l5-kDT.js";const p=({trigger:f,content:y,position:h="bottom",align:i="center",className:x,contentClassName:E,open:m,onOpenChange:g,closeOnClickOutside:v=!0,closeOnEscape:b=!0})=>{const[N,R]=o.useState(!1),[q,V]=o.useState({}),s=o.useRef(null),l=o.useRef(null),r=m!==void 0?m:N,u=e=>{g?g(e):R(e)},C=()=>{u(!r)};o.useEffect(()=>{if(r&&s.current&&l.current){const e=s.current.getBoundingClientRect(),n=l.current.getBoundingClientRect();let t=0,a=0;switch(h){case"top":switch(t=e.top-n.height-8,i){case"start":a=e.left;break;case"center":a=e.left+(e.width-n.width)/2;break;case"end":a=e.right-n.width;break}break;case"bottom":switch(t=e.bottom+8,i){case"start":a=e.left;break;case"center":a=e.left+(e.width-n.width)/2;break;case"end":a=e.right-n.width;break}break;case"left":switch(a=e.left-n.width-8,i){case"start":t=e.top;break;case"center":t=e.top+(e.height-n.height)/2;break;case"end":t=e.bottom-n.height;break}break;case"right":switch(a=e.right+8,i){case"start":t=e.top;break;case"center":t=e.top+(e.height-n.height)/2;break;case"end":t=e.bottom-n.height;break}break}const d={width:window.innerWidth,height:window.innerHeight};a<8&&(a=8),a+n.width>d.width-8&&(a=d.width-n.width-8),t<8&&(t=8),t+n.height>d.height-8&&(t=d.height-n.height-8),V({position:"fixed",top:`${t}px`,left:`${a}px`,zIndex:9999})}},[r,h,i]),o.useEffect(()=>{const e=t=>{v&&r&&l.current&&s.current&&!l.current.contains(t.target)&&!s.current.contains(t.target)&&u(!1)},n=t=>{b&&r&&t.key==="Escape"&&u(!1)};if(r)return document.addEventListener("mousedown",e),document.addEventListener("keydown",n),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",n)}},[r,v,b]);const w=r?c.jsx("div",{ref:l,style:q,className:k(_("elevated"),"p-4 rounded-xl","border border-white/20 dark:border-white/10","shadow-lg shadow-black/10 dark:shadow-black/30","animate-in fade-in-0 zoom-in-95 duration-200","max-w-sm",E),children:y}):null;return c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:s,onClick:C,className:k("inline-block cursor-pointer",x),children:f}),w&&O.createPortal(w,document.body)]})};p.displayName="GlassPopover";try{p.displayName="GlassPopover",p.__docgenInfo={description:"",displayName:"GlassPopover",props:{trigger:{defaultValue:null,description:"",name:"trigger",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},position:{defaultValue:{value:"bottom"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"top"'},{value:'"bottom"'},{value:'"left"'},{value:'"right"'}]}},align:{defaultValue:{value:"center"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"start"'},{value:'"center"'},{value:'"end"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},contentClassName:{defaultValue:null,description:"",name:"contentClassName",required:!1,type:{name:"string | undefined"}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean | undefined"}},onOpenChange:{defaultValue:null,description:"",name:"onOpenChange",required:!1,type:{name:"((open: boolean) => void) | undefined"}},closeOnClickOutside:{defaultValue:{value:"true"},description:"",name:"closeOnClickOutside",required:!1,type:{name:"boolean | undefined"}},closeOnEscape:{defaultValue:{value:"true"},description:"",name:"closeOnEscape",required:!1,type:{name:"boolean | undefined"}}}}}catch{}export{p as G};
