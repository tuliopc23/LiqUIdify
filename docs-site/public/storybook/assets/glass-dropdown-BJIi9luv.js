import{R as E,r as i,j as s}from"./iframe-BtRd3yP4.js";import{c as p,g as j}from"./glass-utils-B_l5-kDT.js";const f=E.forwardRef(({trigger:m,items:w,onSelect:g,className:x,contentClassName:v,align:h="start",sideOffset:c=4,...y},b)=>{const[n,l]=i.useState(!1),[k,N]=i.useState({}),d=i.useRef(null),o=i.useRef(null);i.useEffect(()=>{const e=r=>{n&&o.current&&d.current&&!o.current.contains(r.target)&&!d.current.contains(r.target)&&l(!1)},t=r=>{n&&r.key==="Escape"&&l(!1)};if(n)return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[n]),i.useEffect(()=>{if(n&&d.current&&o.current){const e=d.current.getBoundingClientRect(),t=o.current.getBoundingClientRect();let r=e.bottom+c,a=e.left;switch(h){case"center":a=e.left+(e.width-t.width)/2;break;case"end":a=e.right-t.width;break}const u={width:window.innerWidth,height:window.innerHeight};a<8&&(a=8),a+t.width>u.width-8&&(a=u.width-t.width-8),r+t.height>u.height-8&&(r=e.top-t.height-c),N({position:"fixed",top:`${r}px`,left:`${a}px`,zIndex:9999})}},[n,h,c]);const R=e=>{e.disabled||e.separator||(g?.(e.value),l(!1))};return s.jsxs("div",{ref:b,className:p("relative inline-block",x),...y,children:[s.jsx("div",{ref:d,onClick:()=>l(!n),className:"cursor-pointer",children:m}),n&&s.jsx("div",{ref:o,style:k,className:p(j("elevated"),"py-1 rounded-xl border border-white/20 dark:border-white/10","min-w-[160px] max-w-[300px]","animate-in fade-in-0 zoom-in-95 duration-200",v),children:w.map((e,t)=>e.separator?s.jsx("div",{className:"my-1 border-t border-white/10 dark:border-white/5"},`separator-${t}`):s.jsxs("button",{onClick:()=>R(e),disabled:e.disabled,className:p("w-full px-3 py-2 text-left transition-colors duration-200","hover:bg-white/10 dark:hover:bg-white/5","focus:outline-none focus:bg-white/10 dark:focus:bg-white/5","flex items-center space-x-2","text-gray-900 dark:text-white text-sm",e.disabled&&"opacity-50 cursor-not-allowed"),children:[e.icon&&s.jsx("span",{className:"flex-shrink-0 w-4 h-4",children:e.icon}),s.jsx("span",{className:"truncate",children:e.label})]},e.value))})]})});f.displayName="GlassDropdown";try{f.displayName="GlassDropdown",f.__docgenInfo={description:"",displayName:"GlassDropdown",props:{trigger:{defaultValue:null,description:"",name:"trigger",required:!0,type:{name:"ReactNode"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"DropdownItem[]"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((value: string) => void) | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},contentClassName:{defaultValue:null,description:"",name:"contentClassName",required:!1,type:{name:"string | undefined"}},align:{defaultValue:{value:"start"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"start"'},{value:'"center"'},{value:'"end"'}]}},sideOffset:{defaultValue:{value:"4"},description:"",name:"sideOffset",required:!1,type:{name:"number | undefined"}}}}}catch{}export{f as G};
