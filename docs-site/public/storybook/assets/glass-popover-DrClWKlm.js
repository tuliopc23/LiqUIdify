import{r as s,j as d}from"./iframe-BrIAL86F.js";import{r as j}from"./index-BtLXlZrX.js";import{c as b,g as G}from"./glass-utils-B_l5-kDT.js";const v=({trigger:k,content:y,position:p="bottom",align:o="center",className:R,contentClassName:x,open:m,onOpenChange:h,closeOnClickOutside:f=!0,closeOnEscape:g=!0})=>{const[E,q]=s.useState(!1),[N,T]=s.useState({}),i=s.useRef(null),c=s.useRef(null),n=m!==void 0?m:E,u=e=>{h?h(e):q(e)},C=()=>{u(!n)};s.useEffect(()=>{if(n&&i.current&&c.current){const e=i.current.getBoundingClientRect(),r=c.current.getBoundingClientRect();let t=0,a=0;switch(p){case"top":switch(t=e.top-r.height-8,o){case"start":a=e.left;break;case"center":a=e.left+(e.width-r.width)/2;break;case"end":a=e.right-r.width;break}break;case"bottom":switch(t=e.bottom+8,o){case"start":a=e.left;break;case"center":a=e.left+(e.width-r.width)/2;break;case"end":a=e.right-r.width;break}break;case"left":switch(a=e.left-r.width-8,o){case"start":t=e.top;break;case"center":t=e.top+(e.height-r.height)/2;break;case"end":t=e.bottom-r.height;break}break;case"right":switch(a=e.right+8,o){case"start":t=e.top;break;case"center":t=e.top+(e.height-r.height)/2;break;case"end":t=e.bottom-r.height;break}break}const l={width:window.innerWidth,height:window.innerHeight};a<8&&(a=8),a+r.width>l.width-8&&(a=l.width-r.width-8),t<8&&(t=8),t+r.height>l.height-8&&(t=l.height-r.height-8),T({position:"fixed",top:`${t}px`,left:`${a}px`,zIndex:9999})}},[n,p,o]),s.useEffect(()=>{const e=t=>{f&&n&&c.current&&i.current&&!c.current.contains(t.target)&&!i.current.contains(t.target)&&u(!1)},r=t=>{g&&n&&t.key==="Escape"&&u(!1)};if(n)return document.addEventListener("mousedown",e),document.addEventListener("keydown",r),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",r)}},[n,f,g]);const w=n?d.jsx("div",{ref:c,style:N,className:b(G("elevated"),"p-4 rounded-xl","border border-white/20 dark:border-white/10","shadow-lg shadow-black/10 dark:shadow-black/30","animate-in fade-in-0 zoom-in-95 duration-200","max-w-sm",x),children:y}):null;return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:i,onClick:C,className:b("inline-block cursor-pointer",R),children:k}),w&&j.createPortal(w,document.body)]})};v.displayName="GlassPopover";v.__docgenInfo={description:"",methods:[],displayName:"GlassPopover",props:{trigger:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},content:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},position:{required:!1,tsType:{name:"union",raw:'"top" | "bottom" | "left" | "right"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right"'}]},description:"",defaultValue:{value:'"bottom"',computed:!1}},align:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"center"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},contentClassName:{required:!1,tsType:{name:"string"},description:""},open:{required:!1,tsType:{name:"boolean"},description:""},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},closeOnClickOutside:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},closeOnEscape:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{v as G};
