<!-- Optimized Glass UI Storybook Preview Head -->
<link href="https://fonts.googleapis.com" rel="preconnect" />
<link crossorigin href="https://fonts.gstatic.com" rel="preconnect" />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
  rel="stylesheet"
/>

<meta
  content="width=device-width, initial-scale=1.0, viewport-fit=cover"
  name="viewport"
/>
<meta content="light dark" name="color-scheme" />

<!-- Inject Liquid Glass SVG filter defs once for CSS filter:url(#...) -->
<div style="position:absolute;width:0;height:0;overflow:hidden" aria-hidden="true">
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" data-liquid-glass-defs>
    <defs>
      <filter id="liquid-glass-distortion">
        <feTurbulence type="turbulence" baseFrequency="0.01" numOctaves="2" seed="2" result="noise" />
        <feDisplacementMap in="SourceGraphic" in2="noise" scale="6" xChannelSelector="R" yChannelSelector="G" />
      </filter>
      <filter id="liquid-glass-refraction">
        <feTurbulence type="fractalNoise" baseFrequency="0.002" numOctaves="3" seed="7" result="f" />
        <feDisplacementMap in="SourceGraphic" in2="f" scale="4" xChannelSelector="R" yChannelSelector="G" />
      </filter>
      <filter id="liquid-glass-chromatic">
        <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" result="orig"/>
        <feGaussianBlur stdDeviation="0.6" in="orig" result="blur"/>
        <feBlend in="orig" in2="blur" mode="screen"/>
      </filter>
      <filter id="liquid-glass-edge">
        <feSpecularLighting result="spec" specularExponent="20" lighting-color="#ffffff">
          <fePointLight x="-5000" y="-10000" z="20000" />
        </feSpecularLighting>
        <feComposite in2="SourceAlpha" operator="in" />
        <feMerge>
          <feMergeNode />
          <feMergeNode in="SourceGraphic" />
        </feMerge>
      </filter>
      <filter id="liquid-glass-mobile">
        <feGaussianBlur stdDeviation="0.8" />
      </filter>
      <filter id="liquid-glass-ripple">
        <feTurbulence type="fractalNoise" baseFrequency="0.01 0.03" numOctaves="1" seed="3" result="noise"/>
        <feDisplacementMap in="SourceGraphic" in2="noise" scale="3"/>
      </filter>
      <filter id="liquid-glass-depth">
        <feDropShadow dx="0" dy="8" stdDeviation="8" flood-color="rgba(0,0,0,0.2)"/>
      </filter>
      <filter id="liquid-glass-noise">
        <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1" stitchTiles="stitch"/>
        <feColorMatrix type="saturate" values="0"/>
        <feComponentTransfer>
          <feFuncA type="table" tableValues="0 0.04"/>
        </feComponentTransfer>
      </filter>
      <filter id="liquid-glass-specular">
        <feSpecularLighting surfaceScale="1" specularConstant="0.75" specularExponent="16" lighting-color="#ffffff">
          <fePointLight x="-200" y="-100" z="200" />
        </feSpecularLighting>
      </filter>
    </defs>
  </svg>
</div>

<style>
  /* Performance optimizations */
  * {
    will-change: auto;
  }

  /* Glass UI Theme Variables */
  :root {
    --glass-bg: rgba(255, 255, 255, 0.1);
    --glass-border: rgba(255, 255, 255, 0.2);
    --glass-text: rgba(0, 0, 0, 0.8);
    --glass-blur: 10px;
    --glass-saturation: 180%;
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    --glass-highlight: rgba(255, 255, 255, 0.3);
  }

  [data-theme="dark"] {
    --glass-bg: rgba(0, 0, 0, 0.1);
    --glass-border: rgba(255, 255, 255, 0.2);
    --glass-text: rgba(255, 255, 255, 0.9);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    --glass-highlight: rgba(255, 255, 255, 0.1);
  }

  /* Glass effect base styles */
  .glass-ui {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    color: var(--glass-text);
    backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturation));
    -webkit-backdrop-filter: blur(var(--glass-blur))
      saturate(var(--glass-saturation));
    box-shadow: var(--glass-shadow);
  }

  .glass-effect {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    box-shadow: var(--glass-shadow);
  }

  /* Font loading optimization */
  @font-face {
    font-family: "Inter";
    font-display: swap;
  }

  body {
    font-family:
      "Inter",
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      "Roboto",
      sans-serif;
  }

  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* High contrast mode support */
  @media (forced-colors: active) {
    .glass-effect,
    .glass-ui {
      border-width: 2px;
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
      background: Canvas;
      color: CanvasText;
      border-color: ButtonText;
    }
  }

  /* Error display styles */
  .sb-errordisplay {
    background: var(--glass-bg) !important;
    border: 1px solid rgba(239, 68, 68, 0.3) !important;
    backdrop-filter: blur(10px) !important;
    border-radius: 12px !important;
    padding: 1rem !important;
  }

  /* Mobile optimizations */
  @media (max-width: 768px) {
    .sb-show-main {
      padding: 0.5rem !important;
    }

    .glass-effect,
    .glass-ui {
      border-radius: 8px;
    }
  }
</style>
