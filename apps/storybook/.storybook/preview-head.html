<!-- Optimized Glass UI Storybook Preview Head -->
<link href="https://fonts.googleapis.com" rel="preconnect" />
<link crossorigin href="https://fonts.gstatic.com" rel="preconnect" />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
  rel="stylesheet"
/>

<meta
  content="width=device-width, initial-scale=1.0, viewport-fit=cover"
  name="viewport"
/>
<meta content="light dark" name="color-scheme" />

<!-- Liquid Glass SVG filter defs are injected via LiquidGlassDefs in preview.jsx -->

<style>
  /* Canvas background controller (driven by globalTypes.canvasBg in preview.jsx) */
  :root[data-canvas-bg="light"] .sb-show-main {
    background:
      radial-gradient(
        ellipse 800px 600px at 10% 20%,
        rgba(255, 154, 88, 0.8) 0%,
        rgba(255, 88, 195, 0.8) 25%,
        rgba(139, 69, 255, 0.8) 50%,
        rgba(44, 158, 255, 0.8) 75%,
        transparent 100%
      ),
      radial-gradient(
        ellipse 600px 800px at 90% 80%,
        rgba(154, 255, 88, 0.6) 0%,
        rgba(88, 255, 195, 0.6) 25%,
        rgba(88, 154, 255, 0.6) 50%,
        rgba(195, 88, 255, 0.6) 75%,
        transparent 100%
      ),
      linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%) !important;
  }
  :root[data-canvas-bg="dark"] .sb-show-main {
    background:
      radial-gradient(
        ellipse 800px 600px at 10% 20%,
        rgba(255, 88, 88, 0.4) 0%,
        rgba(255, 88, 195, 0.4) 25%,
        rgba(139, 69, 255, 0.6) 50%,
        transparent 100%
      ),
      radial-gradient(
        ellipse 600px 800px at 90% 80%,
        rgba(255, 154, 88, 0.3) 0%,
        rgba(88, 195, 255, 0.4) 25%,
        rgba(195, 88, 255, 0.5) 50%,
        transparent 100%
      ),
      linear-gradient(135deg, #0c0c0c 0%, #1a0a1a 50%, #0a0a1a 100%) !important;
  }
  /* Remove old hardcoded dark background - now handled in CSS */

  /* Performance optimizations */
  * {
    will-change: auto;
  }

  /* Glass UI Theme Variables - References liquid-glass-system.css */
  :root {
    /* Legacy compatibility for old CSS variables */
    --glass-bg: var(--lg-bg-color);
    --glass-border: rgb(var(--lg-text-rgb) / 0.1);
    --glass-text: var(--lg-text);
    --glass-blur: 12px;
    --glass-saturation: 180%;
    --glass-shadow: var(--lg-shadow-main);
    --glass-highlight: var(--lg-highlight);
  }

  /* Glass effect base styles */
  .glass-ui {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    color: var(--glass-text);
    backdrop-filter: blur(10px) saturate(180%);
    -webkit-backdrop-filter: blur(10px) saturate(180%);
    box-shadow: var(--glass-shadow);
  }

  .glass-effect {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--glass-shadow);
  }

  /* Font loading optimization */
  @font-face {
    font-family: "Inter";
    font-display: swap;
  }

  body {
    font-family:
      "Inter",
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      "Roboto",
      sans-serif;
  }

  /* Enforce readable default typography based on theme */
  html.theme-dark,
  html[data-theme="dark"] {
    color: #ffffff;
  }
  html.theme-light,
  html[data-theme="light"] {
    color: #000000;
  }

  /* Storybook Docs base typography color (kept minimal to avoid overriding story previews) */
  html.theme-dark .sbdocs,
  html[data-theme="dark"] .sbdocs {
    color: #ffffff;
  }
  html.theme-light .sbdocs,
  html[data-theme="light"] .sbdocs {
    color: var(--lg-text, #1a1d21);
  }
  html.theme-dark .sbdocs,
  html[data-theme="dark"] .sbdocs {
    color: var(--lg-text, #ffffff);
  }

  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* High contrast mode support */
  @media (forced-colors: active) {
    .glass-effect,
    .glass-ui {
      border-width: 2px;
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
      background: Canvas;
      color: CanvasText;
      border-color: ButtonText;
    }
  }

  /* Error display styles */
  .sb-errordisplay {
    background: var(--lg-bg-color) !important;
    border: 1px solid rgb(var(--lg-error-rgb) / 0.3) !important;
    backdrop-filter: blur(10px) !important;
    border-radius: var(--lg-radius-sm) !important;
    padding: 1rem !important;
  }

  /* Mobile optimizations */
  @media (max-width: 768px) {
    .sb-show-main {
      padding: 0.5rem !important;
    }

    .glass-effect,
    .glass-ui {
      border-radius: var(--lg-radius-xs);
    }
  }
  /* Storybook Docs: align typography and rounding with library */
  .sbdocs.sbdocs-wrapper,
  .sbdocs-content,
  .sbdocs-content * {
    font-family:
      Inter,
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      Roboto,
      "Helvetica Neue",
      Arial,
      "Noto Sans",
      "Apple Color Emoji",
      "Segoe UI Emoji",
      "Segoe UI Symbol",
      sans-serif !important;
  }
  .sbdocs h1 {
    font-weight: 700;
    font-size: clamp(1.75rem, 2.2vw + 1rem, 2.5rem);
    line-height: 1.15;
  }
  .sbdocs h2 {
    font-weight: 700;
    font-size: clamp(1.5rem, 1.6vw + 1rem, 2rem);
    line-height: 1.2;
  }
  .sbdocs h3 {
    font-weight: 650;
    font-size: clamp(1.25rem, 1vw + 1rem, 1.5rem);
    line-height: 1.25;
  }
  .sbdocs h4 {
    font-weight: 600;
    font-size: 1.125rem;
    line-height: 1.35;
  }

  .sbdocs .docs-story,
  .sbdocs .sbdocs-preview {
    border-radius: 24px !important;
    backdrop-filter: blur(8px) saturate(150%);
    -webkit-backdrop-filter: blur(8px) saturate(150%);
    border: 1px solid rgba(255, 255, 255, 0.12);
  }

  .sbdocs .docs-story button,
  .sbdocs .docs-story [role="option"],
  .sbdocs .docs-story .menu-item,
  .sbdocs .docs-story .chip,
  .sbdocs .docs-story input,
  .sbdocs .docs-story select,
  .sbdocs .docs-story textarea,
  .sbdocs .docs-story a {
    border-radius: 9999px !important;
  }
</style>
