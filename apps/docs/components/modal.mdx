---
title: Modal
description: Overlay dialogs with liquid glass effects, focus management, and comprehensive accessibility.
icon: square-stack
---

import { GlassButton, GlassModal } from "@liquidify/react";
import { useState } from "react";

# Modal

A glassmorphic modal component with liquid glass effects, robust focus management, and comprehensive accessibility support. Features Apple-inspired design with smooth animations and proper dialog semantics.

```tsx
function ModalExample() {
  const [open, setOpen] = useState(false);

  return (
    <>
      <GlassButton onClick={() => setOpen(true)}>Open Modal</GlassButton>
      <GlassModal
        isOpen={open}
        onClose={() => setOpen(false)}
        title="Example Modal"
      >
        <p>This is a modal with liquid glass effects.</p>
      </GlassModal>
    </>
  );
}
```

### Size Variants

```tsx
// Sizes: sm | md | lg | xl | full
function SizesDemo() {
  const [size, setSize] = useState("md");
  const [open, setOpen] = useState(false);
  return (
    <div className="space-x-2 space-y-2">
      {(["sm", "md", "lg", "xl", "full"] as const).map((s) => (
        <GlassButton
          key={s}
          variant={s === size ? "primary" : "ghost"}
          onClick={() => {
            setSize(s);
            setOpen(true);
          }}
        >
          Open {s}
        </GlassButton>
      ))}
      <GlassModal
        isOpen={open}
        onClose={() => setOpen(false)}
        title={`Modal ${size}`}
        size={size}
      >
        <p className="text-sm text-[var(--apple-text-secondary)]">
          This is a {size} modal.
        </p>
        <div className="mt-4 flex justify-end">
          <GlassButton variant="primary" onClick={() => setOpen(false)}>
            Close
          </GlassButton>
        </div>
      </GlassModal>
    </div>
  );
}
```

### Confirmation Dialog

```tsx
export default function Demo() {
  const [isOpen, setIsOpen] = useState(false);
  const [isDeleting, setIsDeleting] = useState(false);

  const handleDelete = async () => {
    setIsDeleting(true);
    // Simulate API call
    await new Promise((resolve) => setTimeout(resolve, 1000));
    setIsDeleting(false);
    setIsOpen(false);
  };

  return (
    <div>
      <GlassButton variant="destructive" onClick={() => setIsOpen(true)}>
        Delete Item
      </GlassButton>

      <GlassModal
        isOpen={isOpen}
        onClose={() => setIsOpen(false)}
        title="Confirm Deletion"
        size="sm"
      >
        <div className="space-y-4">
          <div className="flex items-center gap-3">
            <div className="p-2 bg-liquid-accent rounded-full">
              <AlertTriangle className="w-5 h-5 text-liquid-accent" />
            </div>
            <div>
              <h4 className="font-medium">Are you sure?</h4>
              <p className="text-sm text-[var(--apple-text-secondary)]">
                This action cannot be undone.
              </p>
            </div>
          </div>

          <p className="text-sm text-[var(--apple-text-secondary)]">
            This will permanently delete the item and all associated data.
          </p>

          <div className="flex justify-end gap-3 mt-6">
            <GlassButton
              variant="ghost"
              onClick={() => setIsOpen(false)}
              disabled={isDeleting}
            >
              Cancel
            </GlassButton>
            <GlassButton
              variant="destructive"
              onClick={handleDelete}
              loading={isDeleting}
              loadingText="Deleting..."
            >
              Delete
            </GlassButton>
          </div>
        </div>
      </GlassModal>
    </div>
  );
}
```

### Form Modal

```tsx
export default function Demo() {
  const [isOpen, setIsOpen] = useState(false);
  const [formData, setFormData] = useState({ name: "", email: "", role: "" });
  const [isSubmitting, setIsSubmitting] = useState(false);

  const handleSubmit = async (e) => {
    e.preventDefault();
    setIsSubmitting(true);
    // Simulate API call
    await new Promise((resolve) => setTimeout(resolve, 1000));
    setIsSubmitting(false);
    setIsOpen(false);
    setFormData({ name: "", email: "", role: "" });
  };

  return (
    <div>
      <GlassButton
        leftIcon={<Plus className="w-4 h-4" />}
        onClick={() => setIsOpen(true)}
      >
        Add User
      </GlassButton>

      <GlassModal
        isOpen={isOpen}
        onClose={() => setIsOpen(false)}
        title="Add New User"
        size="md"
      >
        <form onSubmit={handleSubmit} className="space-y-4">
          <GlassInput
            label="Full Name"
            placeholder="Enter full name"
            value={formData.name}
            onChange={(e) =>
              setFormData((prev) => ({ ...prev, name: e.target.value }))
            }
            required
          />

          <GlassInput
            type="email"
            label="Email Address"
            placeholder="Enter email address"
            value={formData.email}
            onChange={(e) =>
              setFormData((prev) => ({ ...prev, email: e.target.value }))
            }
            required
          />

          <GlassInput
            label="Role"
            placeholder="Enter role"
            value={formData.role}
            onChange={(e) =>
              setFormData((prev) => ({ ...prev, role: e.target.value }))
            }
            required
          />

          <div className="flex justify-end gap-3 mt-6">
            <GlassButton
              type="button"
              variant="ghost"
              onClick={() => setIsOpen(false)}
              disabled={isSubmitting}
            >
              Cancel
            </GlassButton>
            <GlassButton
              type="submit"
              variant="primary"
              loading={isSubmitting}
              loadingText="Adding..."
            >
              Add User
            </GlassButton>
          </div>
        </form>
      </GlassModal>
    </div>
  );
}
```

## Props

| Prop                  | Type                                     | Default | Description                                  |
| --------------------- | ---------------------------------------- | ------- | -------------------------------------------- |
| `isOpen`              | `boolean`                                | `false` | **Required.** Controls modal visibility      |
| `onClose`             | `() => void`                             | -       | **Required.** Called when modal should close |
| `title`               | `string`                                 | -       | Modal title                                  |
| `description`         | `string`                                 | -       | Modal description                            |
| `size`                | `"sm" \| "md" \| "lg" \| "xl" \| "full"` | `"md"`  | Modal size                                   |
| `closeOnOverlayClick` | `boolean`                                | `true`  | Close modal when clicking overlay            |
| `closeOnEscape`       | `boolean`                                | `true`  | Close modal when pressing Escape             |
| `showCloseButton`     | `boolean`                                | `true`  | Show close button in header                  |
| `preventScroll`       | `boolean`                                | `true`  | Prevent body scroll when open                |
| `children`            | `ReactNode`                              | -       | **Required.** Modal content                  |
| `className`           | `string`                                 | -       | Additional CSS classes                       |
| `overlayClassName`    | `string`                                 | -       | Additional overlay CSS classes               |

## Usage Patterns

### Alert Dialog

```tsx
function AlertDialog({ isOpen, onClose, title, message, onConfirm }) {
  return (
    <GlassModal
      isOpen={isOpen}
      onClose={onClose}
      title={title}
      size="sm"
      closeOnOverlayClick={false}
    >
      <div className="space-y-4">
        <div className="flex items-center gap-3">
          <AlertCircle className="w-5 h-5 text-liquid-accent" />
          <p>{message}</p>
        </div>

        <div className="flex justify-end gap-3">
          <GlassButton variant="ghost" onClick={onClose}>
            Cancel
          </GlassButton>
          <GlassButton variant="primary" onClick={onConfirm}>
            Confirm
          </GlassButton>
        </div>
      </div>
    </GlassModal>
  );
}
```

### Image Gallery Modal

```tsx
function ImageGalleryModal({ images, isOpen, onClose, initialIndex = 0 }) {
  const [currentIndex, setCurrentIndex] = useState(initialIndex);

  const goToPrevious = () => {
    setCurrentIndex((prev) => (prev > 0 ? prev - 1 : images.length - 1));
  };

  const goToNext = () => {
    setCurrentIndex((prev) => (prev < images.length - 1 ? prev + 1 : 0));
  };

  return (
    <GlassModal
      isOpen={isOpen}
      onClose={onClose}
      size="full"
      showCloseButton={false}
      className="bg-liquid-bg/90"
    >
      <div className="relative h-full flex items-center justify-center">
        <img
          src={images[currentIndex]?.src}
          alt={images[currentIndex]?.alt}
          className="max-h-full max-w-full object-contain"
        />

        <GlassButton
          iconOnly
          variant="ghost"
          className="absolute left-4 top-1/2 -translate-y-1/2"
          onClick={goToPrevious}
        >
          <ChevronLeft className="w-6 h-6" />
        </GlassButton>

        <GlassButton
          iconOnly
          variant="ghost"
          className="absolute right-4 top-1/2 -translate-y-1/2"
          onClick={goToNext}
        >
          <ChevronRight className="w-6 h-6" />
        </GlassButton>

        <GlassButton
          iconOnly
          variant="ghost"
          className="absolute top-4 right-4"
          onClick={onClose}
        >
          <X className="w-6 h-6" />
        </GlassButton>

        <div className="absolute bottom-4 left-1/2 -translate-x-1/2">
          <span className="text-liquid-text-inverse text-sm">
            {currentIndex + 1} of {images.length}
          </span>
        </div>
      </div>
    </GlassModal>
  );
}
```

### Settings Modal

```tsx
function SettingsModal({ isOpen, onClose, settings, onSave }) {
  const [localSettings, setLocalSettings] = useState(settings);

  const handleSave = () => {
    onSave(localSettings);
    onClose();
  };

  return (
    <GlassModal isOpen={isOpen} onClose={onClose} title="Settings" size="lg">
      <div className="space-y-6">
        <div>
          <h3 className="font-medium mb-3">Profile</h3>
          <div className="space-y-4">
            <GlassInput
              label="Display Name"
              value={localSettings.displayName}
              onChange={(e) =>
                setLocalSettings((prev) => ({
                  ...prev,
                  displayName: e.target.value,
                }))
              }
            />

            <GlassInput
              type="email"
              label="Email"
              value={localSettings.email}
              onChange={(e) =>
                setLocalSettings((prev) => ({
                  ...prev,
                  email: e.target.value,
                }))
              }
            />
          </div>
        </div>

        <div>
          <h3 className="font-medium mb-3">Preferences</h3>
          <div className="space-y-3">
            <GlassCheckbox
              checked={localSettings.notifications}
              onChange={(checked) =>
                setLocalSettings((prev) => ({
                  ...prev,
                  notifications: checked,
                }))
              }
            >
              Enable notifications
            </GlassCheckbox>

            <GlassCheckbox
              checked={localSettings.darkMode}
              onChange={(checked) =>
                setLocalSettings((prev) => ({
                  ...prev,
                  darkMode: checked,
                }))
              }
            >
              Dark mode
            </GlassCheckbox>
          </div>
        </div>

        <div className="flex justify-end gap-3 pt-4 border-t">
          <GlassButton variant="ghost" onClick={onClose}>
            Cancel
          </GlassButton>
          <GlassButton variant="primary" onClick={handleSave}>
            Save Changes
          </GlassButton>
        </div>
      </div>
    </GlassModal>
  );
}
```

## Accessibility

The GlassModal component follows WCAG 2.1 guidelines:

### Focus Management

- Focus is trapped within the modal
- Focus returns to trigger element on close
- Initial focus on first focusable element
- Proper tab order within modal

### Keyboard Navigation

- **Escape**: Close modal (when enabled)
- **Tab**: Navigate between focusable elements
- **Shift+Tab**: Navigate backwards
- **Enter/Space**: Activate buttons

### Screen Reader Support

- Proper dialog role and ARIA attributes
- Modal title announced when opened
- Background content hidden from screen readers
- Clear close button labeling

### Visual Accessibility

- High contrast focus indicators
- Clear visual boundaries
- Sufficient color contrast
- Readable typography

## Apple HIG Guidelines

Following Apple's Human Interface Guidelines for modals:

### Visual Design

- **Clarity**: Clean, focused content presentation
- **Depth**: Layered glass effects create visual hierarchy
- **Consistency**: Uniform styling across modal types

### Interaction

- **Purposeful**: Clear reason for modal appearance
- **Dismissible**: Easy to close when appropriate
- **Focused**: Single task or decision

### Content

- **Concise**: Brief, scannable content
- **Actionable**: Clear next steps
- **Contextual**: Relevant to user's current task

## Best Practices

### When to Use Modals

- Critical decisions or confirmations
- Complex forms that need focus
- Detailed information display
- Image or media galleries

### Content Guidelines

- Keep content focused and concise
- Use clear, descriptive titles
- Provide obvious action buttons
- Consider mobile screen sizes

### Interaction Design

- Make close actions obvious
- Use appropriate modal sizes
- Consider escape routes
- Test keyboard navigation

### Performance

- Lazy load modal content when possible
- Optimize images and media
- Consider animation performance
- Test on various devices

## Examples

### Multi-step Wizard

```tsx
function WizardModal({ isOpen, onClose }) {
  const [currentStep, setCurrentStep] = useState(0);
  const steps = ["Basic Info", "Preferences", "Review"];

  return (
    <GlassModal
      isOpen={isOpen}
      onClose={onClose}
      title={`Setup Wizard - ${steps[currentStep]}`}
      size="lg"
    >
      <div className="space-y-6">
        {/* Progress indicator */}
        <div className="flex items-center gap-2">
          {steps.map((step, index) => (
            <div key={step} className="flex items-center">
              <div
                className={`w-8 h-8 rounded-full flex items-center justify-center text-sm ${
                  index <= currentStep
                    ? "bg-liquid-accent text-liquid-text-inverse"
                    : "bg-liquid-accent/20"
                }`}
              >
                {index + 1}
              </div>
              {index < steps.length - 1 && (
                <div
                  className={`w-12 h-0.5 ${
                    index < currentStep
                      ? "bg-liquid-accent"
                      : "bg-liquid-accent/20"
                  }`}
                />
              )}
            </div>
          ))}
        </div>

        {/* Step content */}
        <div className="min-h-[200px]">
          {currentStep === 0 && <BasicInfoStep />}
          {currentStep === 1 && <PreferencesStep />}
          {currentStep === 2 && <ReviewStep />}
        </div>

        {/* Navigation */}
        <div className="flex justify-between">
          <GlassButton
            variant="ghost"
            onClick={() => setCurrentStep((prev) => Math.max(0, prev - 1))}
            disabled={currentStep === 0}
          >
            Previous
          </GlassButton>

          <GlassButton
            variant="primary"
            onClick={() => {
              if (currentStep === steps.length - 1) {
                onClose();
              } else {
                setCurrentStep((prev) => prev + 1);
              }
            }}
          >
            {currentStep === steps.length - 1 ? "Finish" : "Next"}
          </GlassButton>
        </div>
      </div>
    </GlassModal>
  );
}
```
