---
title: Glass Number Input
description: Elegant numeric input component with Apple-inspired liquid glass effects and advanced number formatting.
---

import { GlassNumberInput } from "@liquidify/react";
import { useState } from "react";

```tsx
// Interactive example - see Storybook for live preview
```

## Overview

The Glass Number Input component provides an elegant numeric input interface with Apple-inspired liquid glass effects. It features increment/decrement controls, custom formatting, precision handling, and comprehensive validation.

## Props

| Prop           | Type                        | Default | Description                          |
| -------------- | --------------------------- | ------- | ------------------------------------ |
| `value`        | `number`                    | -       | Current numeric value                |
| `defaultValue` | `number`                    | -       | Default numeric value (uncontrolled) |
| `onChange`     | `(value: number) => void`   | -       | Callback when value changes          |
| `min`          | `number`                    | -       | Minimum allowed value                |
| `max`          | `number`                    | -       | Maximum allowed value                |
| `step`         | `number`                    | `1`     | Step increment/decrement amount      |
| `precision`    | `number`                    | `0`     | Number of decimal places             |
| `formatValue`  | `(value: number) => string` | -       | Custom value formatter               |
| `placeholder`  | `string`                    | -       | Placeholder text                     |
| `disabled`     | `boolean`                   | `false` | Disabled state                       |
| `error`        | `boolean`                   | `false` | Error state                          |
| `helperText`   | `string`                    | -       | Helper text below input              |
| `label`        | `string`                    | -       | Input label                          |
| `description`  | `string`                    | -       | Input description                    |
| `showControls` | `boolean`                   | `true`  | Show increment/decrement buttons     |
| `size`         | `'sm' \| 'md' \| 'lg'`      | `'md'`  | Size variant                         |

## Usage Patterns

### Basic Number Input

```tsx
const [count, setCount] = useState(0)

<GlassNumberInput
  label="Count"
  value={count}
  onChange={setCount}
  min={0}
  max={100}
/>
```

### Currency Input

```tsx
const [amount, setAmount] = useState(0)

<GlassNumberInput
  label="Amount"
  value={amount}
  onChange={setAmount}
  min={0}
  step={0.01}
  precision={2}
  formatValue={(value) => `$${value.toFixed(2)}`}
  placeholder="0.00"
/>
```

### Percentage Input

```tsx
const [progress, setProgress] = useState(0)

<GlassNumberInput
  label="Progress"
  value={progress}
  onChange={setProgress}
  min={0}
  max={100}
  step={1}
  formatValue={(value) => `${value}%`}
/>
```

### Temperature Control

```tsx
const [temperature, setTemperature] = useState(22)

<GlassNumberInput
  label="Temperature (°C)"
  value={temperature}
  onChange={setTemperature}
  min={-10}
  max={50}
  step={0.5}
  precision={1}
  formatValue={(value) => `${value}°C`}
  showControls={false}
/>
```

### Form Integration

```tsx
const [formData, setFormData] = useState({
  quantity: 1,
  price: 0,
  discount: 0,
});

const [errors, setErrors] = useState({});

const validateQuantity = (value) => {
  if (!value || value < 1) {
    return "Quantity must be at least 1";
  }
  if (value > 999) {
    return "Quantity cannot exceed 999";
  }
  return "";
};

const handleQuantityChange = (value) => {
  setFormData((prev) => ({ ...prev, quantity: value }));

  const error = validateQuantity(value);
  setErrors((prev) => ({ ...prev, quantity: error }));
};

<form className="space-y-4">
  <GlassNumberInput
    label="Quantity"
    value={formData.quantity}
    onChange={handleQuantityChange}
    min={1}
    max={999}
    error={!!errors.quantity}
    helperText={errors.quantity || "Enter quantity"}
    required
  />

  <GlassNumberInput
    label="Unit Price"
    value={formData.price}
    onChange={(value) => setFormData((prev) => ({ ...prev, price: value }))}
    min={0}
    step={0.01}
    precision={2}
    formatValue={(value) => `$${value.toFixed(2)}`}
  />

  <GlassNumberInput
    label="Discount %"
    value={formData.discount}
    onChange={(value) => setFormData((prev) => ({ ...prev, discount: value }))}
    min={0}
    max={100}
    step={5}
    formatValue={(value) => `${value}%`}
  />
</form>;
```

## Accessibility

### WCAG Compliance

- **Keyboard Navigation**: Full keyboard support with arrow keys for increment/decrement
- **Screen Readers**: Proper ARIA labels and spinbutton role
- **Focus Management**: Clear focus indicators for input and controls
- **Value Announcements**: Changes are announced to assistive technologies

### Implementation Details

- Uses `role="spinbutton"` with proper ARIA attributes
- Input has `aria-valuemin`, `aria-valuemax`, and `aria-valuenow`
- Control buttons have descriptive `aria-label` attributes
- Error states are properly associated with the input
- Required state is communicated to screen readers

### Keyboard Support

| Key          | Action                   |
| ------------ | ------------------------ |
| `Arrow Up`   | Increment value by step  |
| `Arrow Down` | Decrement value by step  |
| `Enter`      | Confirm current value    |
| `Tab`        | Navigate to next element |
| `Numbers`    | Direct numeric input     |

## Apple HIG Guidelines

### Visual Design

- **Liquid Glass Effects**: Multi-layered transparency with backdrop blur
- **Monospace Typography**: Uses monospace font for numeric display
- **Control Buttons**: Subtle, well-positioned increment/decrement controls
- **Visual Hierarchy**: Clear distinction between input and controls

### Interaction Patterns

- **Immediate Feedback**: Real-time validation and formatting
- **Smooth Animations**: Gentle transitions for value changes
- **Touch-Friendly**: Appropriately sized controls for mobile
- **Error Prevention**: Clear constraints and validation

### Layout Principles

- **Centered Alignment**: Numeric values are center-aligned
- **Consistent Spacing**: Uses 8pt grid system
- **Touch Targets**: Minimum 44px touch targets for controls
- **Responsive Design**: Adapts to different screen sizes

### Formatting Guidelines

- **Locale Support**: Respects user's locale for number formatting
- **Currency Display**: Proper currency formatting with symbols
- **Precision Control**: Consistent decimal place handling
- **Unit Display**: Clear unit indicators when applicable

## Best Practices

### Performance

- Use `React.memo` for components with stable props
- Debounce rapid value changes to prevent excessive re-renders
- Optimize formatting functions with memoization
- Implement efficient validation logic

```tsx
// Memoized formatter
const formatCurrency = useMemo(() => {
  return new Intl.NumberFormat(locale, {
    style: "currency",
    currency: "USD",
    minimumFractionDigits: 2,
  });
}, [locale]);

// Debounced validation
const debouncedValidation = useMemo(
  () =>
    debounce((value) => {
      const error = validateValue(value);
      setError(error);
    }, 300),
  [validateValue]
);
```

### UX Guidelines

- Provide clear labels and helper text
- Use appropriate step values for the context
- Implement smart defaults and reasonable constraints
- Show formatting examples in placeholder or helper text

### Validation and Error Handling

```tsx
const validateNumberInput = (value, min, max, required) => {
  if (required && (value === undefined || value === null)) {
    return "This field is required";
  }

  if (value !== undefined && min !== undefined && value < min) {
    return `Value must be at least ${min}`;
  }

  if (value !== undefined && max !== undefined && value > max) {
    return `Value must be no more than ${max}`;
  }

  return "";
};

const handleValueChange = (newValue) => {
  const error = validateNumberInput(newValue, min, max, required);

  if (error) {
    setError(error);
  } else {
    setError("");
    onChange(newValue);
  }
};
```

### Mobile Considerations

- Use `inputMode="numeric"` for mobile keyboards
- Ensure controls are appropriately sized for touch
- Consider using native number inputs on mobile when appropriate
- Test with various mobile browsers and devices

```tsx
const isMobile = useMediaQuery('(max-width: 768px)')

const inputProps = {
  inputMode: 'numeric' as const,
  pattern: '[0-9]*',
  ...(isMobile && {
    type: 'number',
    step: step.toString()
  })
}

<input {...inputProps} />
```

### Internationalization

```tsx
// Custom hook for number formatting
const useNumberFormatter = (locale, options = {}) => {
  return useMemo(() => {
    return new Intl.NumberFormat(locale, {
      minimumFractionDigits: 0,
      maximumFractionDigits: 2,
      ...options,
    });
  }, [locale, options]);
};

// Usage
const formatter = useNumberFormatter("en-US", {
  style: "currency",
  currency: "USD",
});

const formatValue = (value) => formatter.format(value);
```

### State Management

```tsx
// Custom hook for number input state
const useNumberInput = (initialValue, options = {}) => {
  const [value, setValue] = useState(initialValue);
  const [error, setError] = useState("");
  const [focused, setFocused] = useState(false);

  const { min, max, step = 1, precision = 0 } = options;

  const increment = useCallback(() => {
    setValue((prev) => {
      const newValue = (prev || 0) + step;
      return max !== undefined ? Math.min(newValue, max) : newValue;
    });
  }, [step, max]);

  const decrement = useCallback(() => {
    setValue((prev) => {
      const newValue = (prev || 0) - step;
      return min !== undefined ? Math.max(newValue, min) : newValue;
    });
  }, [step, min]);

  const validate = useCallback(
    (val) => {
      const error = validateNumberInput(val, min, max, options.required);
      setError(error);
      return !error;
    },
    [min, max, options.required]
  );

  return {
    value,
    setValue,
    error,
    focused,
    setFocused,
    increment,
    decrement,
    validate,
    isValid: !error,
  };
};
```
