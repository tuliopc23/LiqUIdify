---
title: "Utilities API"
description: "Helper functions for styling, accessibility, and component composition"
---

# Utilities API

LiqUIdify provides a comprehensive set of utility functions to help you build glassmorphism interfaces, manage accessibility, and compose components effectively.

## Styling Utilities

### cn (Class Names)

Conditionally join class names with intelligent merging.

<Card title="Import">
  ```tsx import {cn} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
// Basic usage
const className = cn("base-class", "additional-class");

// Conditional classes
const className = cn(
  "base-class",
  {
    "active-class": isActive,
    "disabled-class": isDisabled,
  },
  "always-applied",
);

// With arrays
const className = cn(["class1", "class2"], "class3");

// Undefined/null handling
const className = cn("base", undefined, null, "safe");
```

#### Parameters

| Parameter   | Type           | Description           |
| ----------- | -------------- | --------------------- |
| `...inputs` | `ClassValue[]` | Class values to merge |

#### Returns

`string` - Merged class names

### getGlassClass

Generate glass effect class names based on configuration.

<Card title="Import">
  ```tsx import {getGlassClass} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const glassClass = getGlassClass({
  intensity: "high",
  variant: "primary",
  interactive: true,
  animated: true,
});

// Returns: "glass-high glass-primary glass-interactive glass-animated"
```

#### Parameters

```tsx
interface GlassConfig {
  intensity?: "low" | "medium" | "high" | "ultra";
  variant?: "default" | "primary" | "secondary" | "destructive";
  interactive?: boolean;
  animated?: boolean;
  size?: "xs" | "sm" | "md" | "lg" | "xl";
}
```

### createGlassVariants

Create component variants using cva (Class Variance Authority).

<Card title="Import">
  ```tsx import {createGlassVariants} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const buttonVariants = createGlassVariants({
  base: "glass-button",
  variants: {
    variant: {
      default: "glass-default",
      primary: "glass-primary",
      secondary: "glass-secondary",
    },
    size: {
      sm: "glass-sm",
      md: "glass-md",
      lg: "glass-lg",
    },
  },
  defaultVariants: {
    variant: "default",
    size: "md",
  },
});

// Usage
const className = buttonVariants({ variant: "primary", size: "lg" });
```

## Glass Effect Utilities

### calculateGlassOpacity

Calculate optimal opacity values for glass effects.

<Card title="Import">
  ```tsx import {calculateGlassOpacity} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const opacity = calculateGlassOpacity({
  intensity: "medium",
  background: "dark",
  interactive: true,
});

// Returns: { backdrop: 0.1, border: 0.2, background: 0.05 }
```

### generateGlassCSS

Generate CSS custom properties for glass effects.

<Card title="Import">
  ```tsx import {generateGlassCSS} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const cssVars = generateGlassCSS({
  intensity: "high",
  color: "blue",
  animated: true,
});

// Apply to element
element.style.cssText = cssVars;
```

### optimizeGlassPerformance

Optimize glass effects for better performance.

<Card title="Import">
  ```tsx import {optimizeGlassPerformance} from "@liquidify/components/utils";
  ```
</Card>

#### Usage

```tsx
const optimizedProps = optimizeGlassPerformance({
  blur: "12px",
  saturation: "1.2",
  brightness: "1.1",
  enableGPU: true,
});
```

## Accessibility Utilities

### generateAriaProps

Generate appropriate ARIA properties for components.

<Card title="Import">
  ```tsx import {generateAriaProps} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const ariaProps = generateAriaProps({
  role: "button",
  label: "Submit form",
  describedBy: "submit-help",
  expanded: isExpanded,
  pressed: isPressed,
});

// Returns:
// {
//   role: 'button',
//   'aria-label': 'Submit form',
//   'aria-describedby': 'submit-help',
//   'aria-expanded': isExpanded,
//   'aria-pressed': isPressed
// }
```

### checkColorContrast

Verify color contrast ratios for accessibility compliance.

<Card title="Import">
  ```tsx import {checkColorContrast} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const contrast = checkColorContrast("#ffffff", "#3b82f6");

console.log(contrast.ratio); // 3.2
console.log(contrast.level); // 'AA'
console.log(contrast.passes.normal); // true
console.log(contrast.passes.large); // true
```

#### Returns

```tsx
interface ContrastResult {
  ratio: number;
  level: "AAA" | "AA" | "A" | "FAIL";
  passes: {
    normal: boolean;
    large: boolean;
    enhanced: boolean;
  };
}
```

### generateFocusRing

Create accessible focus ring styles.

<Card title="Import">
  ```tsx import {generateFocusRing} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const focusRing = generateFocusRing({
  color: "blue",
  width: "2px",
  offset: "2px",
  style: "solid",
});

// Returns CSS object for focus styles
```

## Component Composition

### createCompoundComponent

Create compound components with shared context.

<Card title="Import">
  ```tsx import {createCompoundComponent} from "@liquidify/components/utils";
  ```
</Card>

#### Usage

```tsx
const { Root, Item, Context } = createCompoundComponent({
  name: "Accordion",
  defaultProps: {
    collapsible: false,
    type: "single",
  },
});

// Usage
<Root value={openItem} onValueChange={setOpenItem}>
  <Item value="item1">Content 1</Item>
  <Item value="item2">Content 2</Item>
</Root>;
```

### forwardRefWithAs

Create polymorphic components with ref forwarding.

<Card title="Import">
  ```tsx import {forwardRefWithAs} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
interface ButtonProps {
  variant?: 'primary' | 'secondary';
  size?: 'sm' | 'md' | 'lg';
}

const Button = forwardRefWithAs<'button', ButtonProps>(
  ({ as: Component = 'button', variant = 'primary', ...props }, ref) => {
    return (
      <Component
        ref={ref}
        className={cn('button', `button-${variant}`)}
        {...props}
      />
    );
  }
);

// Usage
<Button>Default button</Button>
<Button as="a" href="/link">Link button</Button>
<Button as={Link} to="/route">Router link</Button>
```

### createSlotComponent

Create slot-based component composition.

<Card title="Import">
  ```tsx import {createSlotComponent} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const { Slot, Slottable } = createSlotComponent();

// Provider component
const Card = ({ asChild, ...props }) => {
  const Component = asChild ? Slot : "div";
  return <Component {...props} />;
};

// Usage
<Card asChild>
  <Link to="/profile">
    <img src="avatar.jpg" />
    <h3>User Name</h3>
  </Link>
</Card>;
```

## Animation Utilities

### createTransition

Create smooth CSS transitions.

<Card title="Import">
  ```tsx import {createTransition} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const transition = createTransition({
  property: "all",
  duration: "300ms",
  easing: "ease-out",
  delay: "100ms",
});

// Returns: "all 300ms ease-out 100ms"
```

### animateValue

Animate numeric values with callbacks.

<Card title="Import">
  ```tsx import {animateValue} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
animateValue({
  from: 0,
  to: 100,
  duration: 1000,
  easing: "easeOutCubic",
  onUpdate: (value) => {
    element.textContent = Math.round(value);
  },
  onComplete: () => {
    console.log("Animation complete");
  },
});
```

### createSpringConfig

Generate spring animation configurations.

<Card title="Import">
  ```tsx import {createSpringConfig} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const springConfig = createSpringConfig({
  preset: "gentle", // 'gentle' | 'wobbly' | 'stiff' | 'slow'
  tension: 300,
  friction: 30,
});
```

## Data Utilities

### debounce

Debounce function calls.

<Card title="Import">
  ```tsx import {debounce} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const debouncedSearch = debounce((query: string) => {
  performSearch(query);
}, 300);

// Call multiple times, but only executes once after 300ms
debouncedSearch("search term");
```

### throttle

Throttle function calls.

<Card title="Import">
  ```tsx import {throttle} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const throttledScroll = throttle(() => {
  updateScrollPosition();
}, 16); // ~60fps

window.addEventListener("scroll", throttledScroll);
```

### memoize

Memoize expensive function calls.

<Card title="Import">
  ```tsx import {memoize} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const expensiveCalculation = memoize((a: number, b: number) => {
  // Expensive operation
  return a ** b;
});

// First call: calculates result
const result1 = expensiveCalculation(2, 10);

// Second call with same args: returns cached result
const result2 = expensiveCalculation(2, 10);
```

## Type Utilities

### ComponentPropsWithoutRef

Extract component props without ref.

<Card title="Import">
```tsx
import type { ComponentPropsWithoutRef } from "@liquidify/components/utils";
```

#### Usage

```tsx
type ButtonProps = ComponentPropsWithoutRef<"button"> & {
  variant?: "primary" | "secondary";
};

const Button: React.FC<ButtonProps> = ({ variant, ...props }) => {
  return <button {...props} />;
};
```

</Card>

### PolymorphicComponentProps

Create polymorphic component type definitions.

<Card title="Import">
  ```tsx import type {PolymorphicComponentProps} from
  "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
type ButtonOwnProps = {
  variant?: "primary" | "secondary";
};

type ButtonProps<C extends React.ElementType> = PolymorphicComponentProps<
  C,
  ButtonOwnProps
>;

const Button = <C extends React.ElementType = "button">({
  as,
  variant,
  ...props
}: ButtonProps<C>) => {
  const Component = as || "button";
  return <Component {...props} />;
};
```

## Environment Utilities

### isSSR

Check if code is running on server-side.

<Card title="Import">
  ```tsx import {isSSR} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
if (!isSSR()) {
  // Browser-only code
  localStorage.setItem("key", "value");
}
```

### isBrowser

Check if code is running in browser.

<Card title="Import">
  ```tsx import {isBrowser} from "@liquidify/components/utils"; ```
</Card>

### supportsBackdropFilter

Check if browser supports backdrop-filter.

<Card title="Import">
  ```tsx import {supportsBackdropFilter} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const GlassComponent = () => {
  const hasBackdropSupport = supportsBackdropFilter();

  return (
    <div
      className={cn(
        "glass-base",
        hasBackdropSupport ? "glass-backdrop" : "glass-fallback",
      )}
    >
      Content
    </div>
  );
};
```

## Validation Utilities

### validateProps

Runtime prop validation for development.

<Card title="Import">
  ```tsx import {validateProps} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const Button = (props) => {
  if (process.env.NODE_ENV === "development") {
    validateProps(props, {
      variant: ["primary", "secondary", "destructive"],
      size: ["sm", "md", "lg"],
      children: "required",
    });
  }

  return <button {...props} />;
};
```

### sanitizeProps

Remove invalid DOM props from component props.

<Card title="Import">
  ```tsx import {sanitizeProps} from "@liquidify/components/utils"; ```
</Card>

#### Usage

```tsx
const Component = ({ variant, customProp, ...props }) => {
  const domProps = sanitizeProps(props, ["variant", "customProp"]);

  return <div {...domProps} />;
};
```

These utilities provide a solid foundation for building robust, accessible, and performant glassmorphism components with LiqUIdify.
