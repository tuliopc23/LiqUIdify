/**
 * Performance-First CSS Override
 * 
 * This file aggressively reduces backdrop-filter usage to meet S-tier performance standards.
 * Place this import last in the CSS chain to override existing heavy effects.
 */

/* CRITICAL: Reduce backdrop-filter usage by 80% */

/* Override ALL backdrop-blur utilities with performance-optimized versions */
[class*="backdrop-blur"] {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  
  /* Use optimized glass effect instead */
  background: rgba(255, 255, 255, 0.15) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    0 2px 8px rgba(0, 0, 0, 0.05) !important;
}

/* Only allow backdrop-filter for critical UI elements */
.modal-backdrop,
.overlay-critical,
.dropdown-backdrop {
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
}

/* Override glass background utilities */
[class*="bg-glass"] {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: rgba(255, 255, 255, 0.12) !important;
}

/* Override liquid glass utilities */
[class*="liquid-glass"] {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: rgba(255, 255, 255, 0.15) !important;
}

/* Override apple liquid utilities */
[class*="apple-liquid"] {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: rgba(255, 255, 255, 0.18) !important;
}

/* Critical performance overrides for specific patterns */
.glass-button,
.glass-card,
.glass-input,
.glass-tooltip,
.glass-badge,
.glass-avatar {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* Dark mode performance optimizations */
@media (prefers-color-scheme: dark) {
  [class*="backdrop-blur"],
  [class*="bg-glass"],
  [class*="liquid-glass"],
  [class*="apple-liquid"] {
    background: rgba(255, 255, 255, 0.06) !important;
    border-color: rgba(255, 255, 255, 0.12) !important;
  }
}

/* Mobile performance - disable ALL backdrop-filters */
@media (max-width: 768px) {
  * {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
}

/* Reduced motion performance */
@media (prefers-reduced-motion: reduce) {
  * {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
}

/* Performance-conscious alternatives */
.perf-glass-light {
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  backdrop-filter: none;
}

.perf-glass-medium {
  background: rgba(255, 255, 255, 0.12);
  border: 1px solid rgba(255, 255, 255, 0.18);
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  backdrop-filter: none;
}

.perf-glass-heavy {
  background: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.25);
  box-shadow: 
    0 8px 24px rgba(0, 0, 0, 0.1),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(4px); /* Minimal blur only for heavy variant */
}

/* Override Tailwind backdrop-blur utilities specifically */
.backdrop-blur-none { backdrop-filter: none !important; }
.backdrop-blur-sm { backdrop-filter: none !important; }
.backdrop-blur { backdrop-filter: none !important; }
.backdrop-blur-md { backdrop-filter: none !important; }
.backdrop-blur-lg { backdrop-filter: none !important; }
.backdrop-blur-xl { backdrop-filter: none !important; }
.backdrop-blur-2xl { backdrop-filter: none !important; }
.backdrop-blur-3xl { backdrop-filter: none !important; }

/* Performance monitoring indicator */
.perf-optimized::after {
  content: "âš¡";
  position: absolute;
  top: 2px;
  right: 2px;
  font-size: 10px;
  opacity: 0.3;
  pointer-events: none;
  z-index: 9999;
}